# Local secrets file for migration scripts (DO NOT COMMIT the real .env)
#
# 1) Copy this file:
#    cp .env.example .env
# 2) Fill in the real Supabase URLs (including the real password).
# 3) Apply migrations:
#    backend/scripts/apply-ef-migrations.sh --staging
#    backend/scripts/apply-ef-migrations.sh --production
#
# NOTE: If your password contains special characters, use the exact connection URL Supabase provides
# (it will already be URL-encoded correctly).
# If you already pasted a URL into .env and want to ensure it is encoded, run:
#   backend/scripts/encode-db-urls-env.sh

# Prefer copy/pasting the exact connection string Supabase provides for each project.
# If you must use connection pooling (often helps when your network lacks IPv6), note that the
# pooler username may NOT be just "postgres" (it is commonly "postgres.<project-ref>").

# Direct connection (often preferred for migrations, but may require IPv6 routing):
KOLLECTOR_STAGING_DB_URL="postgresql://postgres:YOUR-STAGING-PASSWORD@db.<your-staging-ref>.supabase.co:5432/postgres"
KOLLECTOR_PROD_DB_URL="postgresql://postgres:YOUR-PROD-PASSWORD@db.<your-prod-ref>.supabase.co:5432/postgres"

# Example pooler (session) shape (use values from Supabase UI; do not hand-edit):
# KOLLECTOR_PROD_DB_URL="postgresql://postgres.<your-prod-ref>:YOUR-PROD-PASSWORD@aws-<region>.pooler.supabase.com:6543/postgres"


# Google OAuth (use values from Google Cloud Console)
Google__ClientId=
Google__ClientSecret=


# Cloudflare R2 (S3-compatible) - staging
# Replace placeholders with your Cloudflare R2 values for staging
R2_STAGING__AccountId=
R2_STAGING__Endpoint=
R2_STAGING__AccessKeyId=
R2_STAGING__SecretAccessKey=
R2_STAGING__BucketName=cover-art-staging
R2_STAGING__PublicBaseUrl=

# Cloudflare R2 (S3-compatible) - production
# Replace placeholders with your Cloudflare R2 values for production
# Use separate credentials from staging for security isolation
R2_PROD__AccountId=
R2_PROD__Endpoint=
R2_PROD__AccessKeyId=
R2_PROD__SecretAccessKey=
R2_PROD__BucketName=cover-art-prod
R2_PROD__PublicBaseUrl=

# Notes:
# - Keep real secrets out of git. Use GitHub Secrets for CI and the GitHub Actions environment.
# - For local development, `cp .env.example .env` and fill values.
# - The script will map R2_STAGING__* or R2_PROD__* to R2__* based on --staging or --production flag.


